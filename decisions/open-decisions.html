<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Open Decisions - Thin Edge Specifications</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../telemetry-data/index.html"><strong aria-hidden="true">1.</strong> Telemetry Data</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../telemetry-data/thin-edge-json.html"><strong aria-hidden="true">1.1.</strong> Thin Edge Json</a></li><li class="chapter-item expanded "><a href="../telemetry-data/mqtt-bus.html"><strong aria-hidden="true">1.2.</strong> MQTT Bus</a></li></ol></li><li class="chapter-item expanded "><a href="../supported-operations/index.html"><strong aria-hidden="true">2.</strong> Operations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../supported-operations/requirements.html"><strong aria-hidden="true">2.1.</strong> Requirements</a></li><li class="chapter-item expanded "><a href="../supported-operations/principles.html"><strong aria-hidden="true">2.2.</strong> Principles</a></li><li class="chapter-item expanded "><a href="../supported-operations/thin-edge-supported-operations.html"><strong aria-hidden="true">2.3.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../supported-operations/command-line-support.html"><strong aria-hidden="true">2.4.</strong> Command line support</a></li></ol></li><li class="chapter-item expanded "><a href="../software-management/index.html"><strong aria-hidden="true">3.</strong> Software management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../software-management/usecase-update-swlist.html"><strong aria-hidden="true">3.1.</strong> Use-Case Update Software-List</a></li><li class="chapter-item expanded "><a href="../software-management/plugin-api.html"><strong aria-hidden="true">3.2.</strong> Package Manager Plugin API</a></li><li class="chapter-item expanded "><a href="../software-management/sm-agent.html"><strong aria-hidden="true">3.3.</strong> Software Management Agent</a></li><li class="chapter-item expanded "><a href="../software-management/c8y-mapper-operation-handling.html"><strong aria-hidden="true">3.4.</strong> C8Y Mapper Operation Handling</a></li><li class="chapter-item expanded "><a href="../software-management/thin-edge-json-mapping-to-from-c8y.html"><strong aria-hidden="true">3.5.</strong> Thin Edge JSON Mapping to/from C8Y</a></li></ol></li><li class="chapter-item expanded "><a href="../decisions/open-decisions.html" class="active"><strong aria-hidden="true">4.</strong> Open Decisions</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Thin Edge Specifications</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="open-decisions"><a class="header" href="#open-decisions">Open Decisions</a></h1>
<p>That document lists open decisions in scope of thin-edge.</p>
<p>Each table below outlines an open decision to be made. </p>
<h2 id="open-decisions-about-software-management"><a class="header" href="#open-decisions-about-software-management">Open Decisions about Software Management</a></h2>
<h2 id="decision-001"><a class="header" href="#decision-001"><strong>Decision-001</strong></a></h2>
<p><strong>Problem Statement:</strong> When shall current sw-list reported to the cloud?</p>
<p><strong>Reference:</strong> Use Case Diagram &quot;SW Management&quot; (see reference &quot;TO-BE-DECIDED-#1&quot;): https://github.com/thin-edge/thin-edge.io-specs/blob/0cc561632947220cbf5d8a204be8a4a9ad9abb5a/src/software-management/README.md</p>
<p><strong>Option #1</strong></p>
<ul>
<li>
<p><strong>Description:</strong>  Just on Device/Agent start<br/></p>
</li>
<li>
<p><strong>Implications:</strong>  TBD<br/></p>
</li>
</ul>
<p><strong>Option #2</strong></p>
<ul>
<li>
<p><strong>Description:</strong> Periodically? (Last might capture also manually installed packages).<br/></p>
<p>See ref: https://app.archbee.io/docs/9iGX1hbDjwAeMfyO9A3YE/coxr9CuTWSjk0eE1Nzgoj <br/></p>
<p>-&gt; Section: &quot;Update Profile Operation&quot;<br/></p>
<p>-&gt; Snippet: &quot;As part of the above use cases, this use cases extracts the current software list from the device. [...] Additionally, this use cases could be called periodically by e.g. a cron job.&quot;.<br/></p>
</li>
<li>
<p><strong>Implications:</strong> TBD <br/></p>
</li>
</ul>
<p><strong>Comment:</strong> Due to agent's request-response-model periodically trigger can be realized outside of agent.</p>
<p> 
 
 
 
 
 </p>
<h2 id="decision-002"><a class="header" href="#decision-002"><strong>Decision-002</strong></a></h2>
<p><strong>Problem Statement:</strong> Some delta comparision shall occur at some place, to avoid installing already installed packages and avoid removing not existing ones. <br/></p>
<p>To be decided whether delta-comparision shall occur in SM Agent or Package Manager Plugin.</p>
<p><strong>Reference:</strong> Sequence Diagram &quot;Update SW-list&quot; (see reference &quot;TO-BE-DECIDED-#1&quot;): https://github.com/thin-edge/thin-edge.io-specs/blob/0cc561632947220cbf5d8a204be8a4a9ad9abb5a/src/software-management/usecase-update-swlist.md</p>
<p><strong>Option #1</strong></p>
<ul>
<li>
<p><strong>Description:</strong> Delta-comparision by SM Agent. <br/></p>
<p>See ref: https://app.archbee.io/docs/9iGX1hbDjwAeMfyO9A3YE/coxr9CuTWSjk0eE1Nzgoj <br/></p>
<p>-&gt; Section: &quot;Update Software Operation&quot; <br/></p>
<p>-&gt; Steps underneath &quot;The operation is executed as follows&quot; <br/></p>
<p>and <br/></p>
<p>-&gt; Section: &quot;Hiding Software Module&quot; <br/></p>
<p>-&gt; Snippet: &quot;Certain packages should not be uninstallable. By not listed them, they are also not uninstalled based on delta algorithm described under &quot;update software&quot; above (only software modules that are part of the current software list can be uninstalled.)&quot;</p>
</li>
<li>
<p><strong>Implications:</strong> TBD <br/></p>
</li>
</ul>
<p><strong>Option #2</strong></p>
<ul>
<li>
<p><strong>Description:</strong> Delta-comparision by Package Manager Plugins<br/></p>
<p>TODO: more Details will be added here.<br/></p>
</li>
<li>
<p><strong>Implications:</strong> TBD <br/></p>
</li>
</ul>
<p><strong>Comment:</strong> -</p>
<p> 
 
 
 
 
 </p>
<h2 id="decision-003"><a class="header" href="#decision-003"><strong>Decision-003</strong></a></h2>
<p><strong>Problem Statement:</strong> In which order shall items of sw-list be processed? Shall order from Cloud be kept, or shall thin-edge re-order the list for some reason?</p>
<p><strong>Reference:</strong> Sequence Diagram &quot;Update SW-list&quot; (see reference &quot;TO-BE-DECIDED-#2&quot;): https://github.com/thin-edge/thin-edge.io-specs/blob/0cc561632947220cbf5d8a204be8a4a9ad9abb5a/src/software-management/usecase-update-swlist.md</p>
<p><strong>Option #1</strong></p>
<ul>
<li>
<p><strong>Description:</strong>  Keeping order inside sw-list from Cloud to enable Cloud operator to dictate the order of processing.<br/></p>
</li>
<li>
<p><strong>Implications:</strong>  Would allow the cloud operator:<br/></p>
</li>
<li>
<p>to manage package dependencies<br/></p>
<p>   a) within on package type (E.g.: 1st install debain package &quot;foo&quot;, 2nd install debian package &quot;bar&quot;)<br/></p>
<p>   b) to manage package dependencies beyond package types (E.g.: 1st install debian package &quot;foo&quot;, 2nd install Docker package &quot;bar&quot;)<br/></p>
<p>   c) to install package type per package type (E.g.: 1st install all Debain packages, 2nd install Docker packages)<br/></p>
<p>NOTE: That or a similar solution would be required if Package Management auto-dependency solving is disabled or not available (see Decision 4). <br/></p>
<p>Pro: Gives Freedom to the Cloud Operator<br/></p>
<p>Con: Gives responsibility to the Cloud Operator <br/></p>
<p>Disadvantage: a) Not a declarative semantics anymore b) Cloud must have detail knowledge about package types on different devices, impossible to scale?<br/></p>
</li>
</ul>
<p><strong>Option #2</strong></p>
<ul>
<li>
<p><strong>Description:</strong>  Hardcoding some as best expected order into the agent. <br/></p>
<p>Example order:  - 1st process per package type (&quot;debian&quot;, ...) - then 2nd per operation (&quot;remove, install&quot;). <br/></p>
</li>
<li>
<p><strong>Implications:</strong> No chance to solve dependencies on Cloud-side. See also Decision 4. <br/></p>
</li>
</ul>
<p><strong>Option #3</strong></p>
<ul>
<li>
<p><strong>Description:</strong> Define plugin execution order inside agent, e.g. using numbers in the plugin filename? Example: <br/>- 01debain<br/>- 02docker<br/>- 03apama <br/></p>
</li>
<li>
<p><strong>Implications:</strong> TBD <br/></p>
</li>
</ul>
<p><strong>Comment:</strong> </p>
<p>D 
 
 
 
 
 </p>
<h2 id="decision-004"><a class="header" href="#decision-004"><strong>Decision-004</strong></a></h2>
<p><strong>Problem Statement:</strong> Shall auto dependency solving used if package manager supports it?</p>
<p><strong>Reference:</strong> None</p>
<p><strong>Option #1</strong></p>
<ul>
<li>
<p><strong>Description:</strong> Yes, let Package Manager solve dependencies automatically. <br/></p>
<p>See also ref https://app.archbee.io/docs/9iGX1hbDjwAeMfyO9A3YE/coxr9CuTWSjk0eE1Nzgoj <br/></p>
<p>-&gt; Section: &quot;Update Software Operation&quot; <br/></p>
<p>-&gt; Snippet: &quot;Just top-level packages are listed, because the software type specific Installer is responsible for dealing with dependency management.&quot; <br/></p>
</li>
<li>
<p><strong>Implications:</strong> Convenient for Cloud-Operator, but could lead to unexpected / problematic behaviour as below: <br/></p>
<p>-&gt; Could lead exceeded current sw-list size reported to cloud. Since Cloud operator is unknown of auto-dep installed package he could not fix that by added them to black-list / filter for current sw-list. <br/></p>
<p>-&gt; Could lead to unexpected flash capacity load, in case of large dependencies. <br/></p>
<p>-&gt; Could lead to invisible package on Cloud side (e.g. when auto-deps are blacklisted). These invisible package might be an issue from security point of view. They could be affected by vulnerabilities but Cloud Operator is not aware of these Packages (invisible). Even he would be aware of them he would not be able to update or remove them (invisible). <br/></p>
<p>See also ref https://app.archbee.io/docs/9iGX1hbDjwAeMfyO9A3YE/coxr9CuTWSjk0eE1Nzgoj <br/></p>
<p>-&gt; Section: &quot;Why is Software Management important&quot; <br/></p>
<p>-&gt; Snippet: &quot;As all other software too, also the software on the device needs to be updated to fix e.g. security bugs. This is even required by e.g. EU Standards.&quot;</p>
</li>
</ul>
<p><strong>Option #2</strong></p>
<ul>
<li>
<p><strong>Description:</strong>  No, prohibit that Package Manager solve dependencies automatically. <br/></p>
<p>Dependency Management need to be done on Cloud-side, e.g. by adding all depending package into the update sw-list request, in the correct order. <br/></p>
<p>See also Decision 3.</p>
</li>
<li>
<p><strong>Implications:</strong> More effort and responsibility for Cloud Operator. <br/></p>
</li>
</ul>
<p><strong>Option #3</strong></p>
<ul>
<li>
<p><strong>Description:</strong>  Assume the plugin will install the require dependencies but let the user a way to list them if not. This implies that the all the packages are installed in the order specified by the the cloud operator. However, the operator will have to provide the correct order with the full set of dependencies only for the plugin that requires it. <br/></p>
<p>See also Decision 3.</p>
</li>
<li>
<p><strong>Implications:</strong> More effort and responsibility for Cloud Operator. <br/></p>
</li>
</ul>
<p><strong>Comment:</strong> Could be finally decided by Customer by adapting according Package Manager Plugin. But if provide no way to solve dependencies manually (see Decision 3) thats not an option for the Customer. </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../software-management/thin-edge-json-mapping-to-from-c8y.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../software-management/thin-edge-json-mapping-to-from-c8y.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
                <script type="text/javascript" src="../mermaid.min.js"></script>
                <script type="text/javascript" src="../mermaid-init.js"></script>
        
        
    </body>
</html>
